<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>stm32plus: include/filesystem/fat/BootSector.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">stm32plus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_e1c7b6d0de41f970aaf64acfab9d22b3.html">filesystem</a></li><li class="navelem"><a class="el" href="dir_59ecb4d0e4d6b36dc519bbfc6f4e5e3f.html">fat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BootSector.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This file is a part of the open source stm32plus library.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2011,2012,2013 Andy Brown &lt;www.andybrown.me.uk&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Please see website for licensing terms.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#pragma pack(push,1)</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">namespace </span>stm32plus {</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;  <span class="keyword">namespace </span>fat {</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html">   23</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html" title="FAT Bootsector definition. The members of this structure are packed so they can be exactly mapped on ...">BootSector</a> {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#adafe99941b91920d4b6f198c0533fa85">   26</a></span>&#160;      uint8_t   <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#adafe99941b91920d4b6f198c0533fa85" title="Jump instruction to boot code.">BS_jmpBoot</a>[3];</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a66d7ec1c9c4968710a718337aa6221f7">   29</a></span>&#160;      <span class="keywordtype">char</span>      <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a66d7ec1c9c4968710a718337aa6221f7" title="&quot;MSWIN4.1&quot; There are many misconceptions about this field. It is only a name string. Microsoft operating systems don&#39;t pay any attention to this field. Some FAT drivers do. This is the reason that the indicated string, &quot;MSWIN4.1&quot;, is the recommended setting, because it is the setting least likely to cause compatibility problems. If you want to put something else in here, that is your option, but the result may be that some FAT drivers might not recognize the volume. Typically this is some indication of what system formatted the volume.">BS_OEMName</a>[8];</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#ab3bf9c6a86bcc3fc0b94fcf89d9273df">   32</a></span>&#160;      uint16_t  <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#ab3bf9c6a86bcc3fc0b94fcf89d9273df" title="Count of bytes per sector. This value may take on only the following values: 512, 1024...">BPB_BytsPerSec</a>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#acadd949029b3ff4c2a209bd9a12321db">   35</a></span>&#160;      uint8_t   <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#acadd949029b3ff4c2a209bd9a12321db" title="Number of sectors per allocation unit. This value must be a power of 2 that is greater than 0...">BPB_SecPerClus</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a287d8c5f84f080b12419178fe14c1d01">   38</a></span>&#160;      uint16_t  <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a287d8c5f84f080b12419178fe14c1d01" title="Number of reserved sectors in the Reserved region of the volume starting at the first sector of the v...">BPB_RsvdSecCnt</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a6a3ff21dddbe8d5059a925d9ad25a3df">   41</a></span>&#160;      uint8_t   <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a6a3ff21dddbe8d5059a925d9ad25a3df" title="The count of FAT data structures on the volume. This field should always contain the value 2 for any ...">BPB_NumFATs</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a31d1053b4273c890610b6cc67082af56">   44</a></span>&#160;      uint16_t  <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a31d1053b4273c890610b6cc67082af56" title="For FAT12 and FAT16 volumes, this field contains the count of 32-byte directory entries in the root d...">BPB_RootEntCnt</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a99c6b10d31ef379551df4e43592b3afe">   47</a></span>&#160;      uint16_t  <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a99c6b10d31ef379551df4e43592b3afe" title="This field is the old 16-bit total count of sectors on the volume. This count includes the count of a...">BPB_TotSec16</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a702a1259016b152de9e79c81c41ba0f4">   50</a></span>&#160;      uint8_t   <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a702a1259016b152de9e79c81c41ba0f4" title="0xF8 is the standard value for &quot;fixed&quot; (non-removable) media. For removable media, 0xF0 is frequently used. The legal values for this field are 0xF0, 0xF8, 0xF9, 0xFA, 0xFB, 0xFC, 0xFD, 0xFE, and 0xFF. The only other important point is that whatever value is put in here must also be put in the low byte of the FAT[0] entry. This dates back to the old MS-DOS 1.x media determination noted earlier and is no longer usually used for anything.">BPB_Media</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a1e6ab77ef5662bdeaa96c4cc42aad42e">   53</a></span>&#160;      uint16_t  <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a1e6ab77ef5662bdeaa96c4cc42aad42e" title="This field is the FAT12/FAT16 16-bit count of sectors occupied by ONE FAT. On FAT32 volumes this fiel...">BPB_FATSz16</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#accaaec79051959fbfc8af406849c77f8">   56</a></span>&#160;      uint16_t  <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#accaaec79051959fbfc8af406849c77f8" title="Sectors per track for interrupt 0x13. This field is only relevant for media that have a geometry (vol...">BPB_SecPerTrk</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a8d5c901c05b2674f6d7bbf56e567c1e4">   59</a></span>&#160;      uint16_t  <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a8d5c901c05b2674f6d7bbf56e567c1e4" title="Number of heads for interrupt 0x13. This field is relevant as discussed earlier for BPB_SecPerTrk...">BPB_NumHeads</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a895f8ef43cb8d429751069cde82ded6d">   62</a></span>&#160;      uint32_t  <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a895f8ef43cb8d429751069cde82ded6d" title="Count of hidden sectors preceding the partition that contains this FAT volume. This field is generall...">BPB_HiddSec</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a63cc03e298cc455b04faabb6dc035bf7">   65</a></span>&#160;      uint32_t  <a class="code" href="structstm32plus_1_1fat_1_1BootSector.html#a63cc03e298cc455b04faabb6dc035bf7" title="This field is the new 32-bit total count of sectors on the volume. This count includes the count of a...">BPB_TotSec32</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keyword">union </span>{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="structstm32plus_1_1fat_1_1BootSector16.html" title="Fat12/16 specific part of the boot sector.">BootSector16</a> fat16;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <a class="code" href="structstm32plus_1_1fat_1_1BootSector32.html" title="Fat32 specific part of the boot sector.">BootSector32</a> fat32;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      };</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor"></span>    };</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor"></span>  } __attribute__ ((packed));</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor"></span>  }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#pragma pack(pop)</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 30 2013 17:14:00 for stm32plus by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
