<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>stm32plus: stm32plus::fat::FilenameHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">stm32plus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestm32plus.html">stm32plus</a></li><li class="navelem"><b>fat</b></li><li class="navelem"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html">FilenameHandler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classstm32plus_1_1fat_1_1FilenameHandler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stm32plus::fat::FilenameHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handle constructing a filename from one or more directory entries.  
 <a href="classstm32plus_1_1fat_1_1FilenameHandler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="FilenameHandler_8h_source.html">FilenameHandler.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:adb7ad843a80dd3c371dad94cd59d4c25"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#adb7ad843a80dd3c371dad94cd59d4c25af9e6d215ff85413e50b7738210d0c547">E_INVALID_STATE</a> =1, 
<a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#adb7ad843a80dd3c371dad94cd59d4c25a6027871483668a2710efd2e7f87db4d1">E_CORRUPT_LONG_FILENAME</a> =2
 }</td></tr>
<tr class="separator:adb7ad843a80dd3c371dad94cd59d4c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aecbb7794d159d29a641ea747211ecaf7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#aecbb7794d159d29a641ea747211ecaf7">FilenameHandler</a> ()</td></tr>
<tr class="separator:aecbb7794d159d29a641ea747211ecaf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2518a1767d93ca85d95b8cb04483e074"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a2518a1767d93ca85d95b8cb04483e074">~FilenameHandler</a> ()</td></tr>
<tr class="separator:a2518a1767d93ca85d95b8cb04483e074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bee79d40e31a2ff1870b07aa916c5e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a7bee79d40e31a2ff1870b07aa916c5e4">reinitialise</a> ()</td></tr>
<tr class="separator:a7bee79d40e31a2ff1870b07aa916c5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa31c870bef9357b0f9f80c3174188814"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#aa31c870bef9357b0f9f80c3174188814">handleEntry</a> (<a class="el" href="structstm32plus_1_1fat_1_1DirectoryEntryWithLocation.html">DirectoryEntryWithLocation</a> &amp;entry)</td></tr>
<tr class="separator:aa31c870bef9357b0f9f80c3174188814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c14f6dd4759f5267265952b565fdcb"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a53c14f6dd4759f5267265952b565fdcb">getFilename</a> ()</td></tr>
<tr class="separator:a53c14f6dd4759f5267265952b565fdcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92ebf135b5088b0cb34b2145eab0cd54"><td class="memItemLeft" align="right" valign="top">uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a92ebf135b5088b0cb34b2145eab0cd54">getSectorIndices</a> ()</td></tr>
<tr class="separator:a92ebf135b5088b0cb34b2145eab0cd54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e2f26a2b6d60efbd65aadf19fbeecce"><td class="memItemLeft" align="right" valign="top">uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a0e2f26a2b6d60efbd65aadf19fbeecce">getSectorOffsetIndices</a> ()</td></tr>
<tr class="separator:a0e2f26a2b6d60efbd65aadf19fbeecce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8dc8a3a4d5768bc4051f06b8bddd736"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#ac8dc8a3a4d5768bc4051f06b8bddd736">getDirentCount</a> ()</td></tr>
<tr class="separator:ac8dc8a3a4d5768bc4051f06b8bddd736"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handle constructing a filename from one or more directory entries. </p>
<p>This class is used for extracting the true filename from one or more directory entries in a FAT directory. Long filenames are the tricky ones because they occupy more than one entry and have a strange encoding driven by the requirement to be compatible with, and ignored by, earlier systems that don't understand the new entries. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="adb7ad843a80dd3c371dad94cd59d4c25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error codes </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="adb7ad843a80dd3c371dad94cd59d4c25af9e6d215ff85413e50b7738210d0c547"></a>E_INVALID_STATE</em>&nbsp;</td><td>
<p>The directory is corrupt. The sequence of entries does not make sense. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adb7ad843a80dd3c371dad94cd59d4c25a6027871483668a2710efd2e7f87db4d1"></a>E_CORRUPT_LONG_FILENAME</em>&nbsp;</td><td>
<p>The long filename is corrupted. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aecbb7794d159d29a641ea747211ecaf7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stm32plus::fat::FilenameHandler::FilenameHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor. Set initial state. </p>

</div>
</div>
<a class="anchor" id="a2518a1767d93ca85d95b8cb04483e074"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stm32plus::fat::FilenameHandler::~FilenameHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructor. Delete internal buffers. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac8dc8a3a4d5768bc4051f06b8bddd736"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t stm32plus::fat::FilenameHandler::getDirentCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the number of dirents holding this filename. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of dirents, which corresponds to the number of entries in the <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a92ebf135b5088b0cb34b2145eab0cd54">getSectorIndices()</a> and <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a0e2f26a2b6d60efbd65aadf19fbeecce">getSectorOffsetIndices()</a> arrays. </dd></dl>

</div>
</div>
<a class="anchor" id="a53c14f6dd4759f5267265952b565fdcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * stm32plus::fat::FilenameHandler::getFilename </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the current filename. </p>
<dl class="section return"><dt>Returns</dt><dd>An internal null terminated pointer to the filename. Do not delete. </dd></dl>

</div>
</div>
<a class="anchor" id="a92ebf135b5088b0cb34b2145eab0cd54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t * stm32plus::fat::FilenameHandler::getSectorIndices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the sector indices array. This array holds the sector locations of each dirent that makes up the filename. This can be used to efficiently delete the file if the caller needs to.</p>
<dl class="section return"><dt>Returns</dt><dd>An internal pointer to the sector indices array. Do not delete. </dd></dl>

</div>
</div>
<a class="anchor" id="a0e2f26a2b6d60efbd65aadf19fbeecce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t * stm32plus::fat::FilenameHandler::getSectorOffsetIndices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the sector offset indices array. Each entry in this array is paired with an entry in the <a class="el" href="classstm32plus_1_1fat_1_1FilenameHandler.html#a92ebf135b5088b0cb34b2145eab0cd54">getSectorIndices()</a> array to give the exact location in a sector of the directory entry. The sector index tells you where on disk the entry lies and the sector offset tells you where in the sector the entry lies. The entries in this array are byte offsets into the sectors.</p>
<dl class="section return"><dt>Returns</dt><dd>An internal pointer to the sector offset indices array. Do not delete. </dd></dl>

</div>
</div>
<a class="anchor" id="aa31c870bef9357b0f9f80c3174188814"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool stm32plus::fat::FilenameHandler::handleEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstm32plus_1_1fat_1_1DirectoryEntryWithLocation.html">DirectoryEntryWithLocation</a> &amp;&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handle the next directory entry. The caller should repeatedly call this method until a short directory entry is encountered. Since a long name immediately precedes its short equivalent when the short name is hit then the long name will have already been processed here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">entry</td><td>The directory entry to process. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if there is a processing failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a7bee79d40e31a2ff1870b07aa916c5e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stm32plus::fat::FilenameHandler::reinitialise </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cleanup and re-initialise for another run </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/filesystem/fat/<a class="el" href="FilenameHandler_8h_source.html">FilenameHandler.h</a></li>
<li>src/filesystem/fat/FilenameHandler.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 30 2013 17:14:12 for stm32plus by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
